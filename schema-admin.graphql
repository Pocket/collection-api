scalar Upload

input CollectionInput {
  title: String!
  excerpt: String!
}

input SearchCollectionsFilters {
  author: String
  title: String
  status: CollectionStatus
}

type CollectionAuthorsResult {
  pagination: Pagination
  authors: [CollectionAuthor!]!
}

input CreateCollectionAuthorInput {
  name: String!
  slug: String
  bio: Markdown
  imageUrl: Url
  active: Boolean
}

input UpdateCollectionAuthorInput {
  externalId: String!
  name: String!
  slug: String!
  bio: Markdown
  imageUrl: Url
  active: Boolean
}

input CreateCollectionInput {
  slug: String!
  title: String!
  excerpt: Markdown
  intro: Markdown
  imageUrl: Url
  status: CollectionStatus
  authorExternalId: String!
}

input UpdateCollectionInput {
  externalId: String
  slug: String!
  title: String!
  excerpt: Markdown!
  intro: Markdown
  imageUrl: Url
  status: CollectionStatus!
  authorExternalId: String!
}

input CollectionStoryAuthorInput {
  name: String!
}

input CreateCollectionStoryInput {
  collectionExternalId: String!
  url: Url!
  title: String!
  excerpt: Markdown!
  imageUrl: Url!
  authors: [CollectionStoryAuthorInput!]!
  publisher: String!
  sortOrder: Int
}

input UpdateCollectionStoryInput {
  externalId: String!
  url: Url!
  title: String!
  excerpt: Markdown!
  imageUrl: Url!
  authors: [CollectionStoryAuthorInput!]!
  publisher: String!
  sortOrder: Int
}

type Query {
  searchCollections(
    filters: SearchCollectionsFilters!
    page: Int
    perPage: Int
  ): CollectionsResult!
  """
  Retrieves a Collection by externalId.
  """
  getCollection(externalId: String!): Collection
  """
  Retrieves a CollectionAuthor by externalId.
  """
  getCollectionAuthor(externalId: String!): CollectionAuthor
  """
  Retrieves a paged list of CollectionAuthors.
  """
  getCollectionAuthors(page: Int, perPage: Int): CollectionAuthorsResult
  """
  Retrieves a CollectionStory by a combination of collectionId and url.
  """
  getCollectionStory(externalId: String): CollectionStory
}

type CollectionImageUrl {
  url: String!
}

input CollectionImageUploadInput {
  image: Upload!
  width: Int!
  height: Int!
  fileSizeBytes: Int!
}

type Mutation {
  createCollectionAuthor(data: CreateCollectionAuthorInput): CollectionAuthor
  updateCollectionAuthor(data: UpdateCollectionAuthorInput): CollectionAuthor
  createCollection(data: CreateCollectionInput): Collection
  updateCollection(data: UpdateCollectionInput): Collection
  createCollectionStory(data: CreateCollectionStoryInput): CollectionStory
  updateCollectionStory(data: UpdateCollectionStoryInput): CollectionStory
  deleteCollectionStory(externalId: String!): CollectionStory
  collectionImageUpload(data: CollectionImageUploadInput!): CollectionImageUrl!
}
