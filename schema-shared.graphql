scalar Url
scalar Markdown
scalar DateString

enum CacheControlScope {
    PUBLIC
    PRIVATE
}

"""
We need to manually implement cacheControl in the schema for now
https://stackoverflow.com/questions/52922080/how-to-implement-caching-on-apollo-server-hapi-graphql
https://github.com/apollographql/federation/issues/356
"""
directive @cacheControl(
    maxAge: Int
    scope: CacheControlScope
) on FIELD_DEFINITION | OBJECT | INTERFACE

type Collection {
    id: ID!
    slug: String!
    title: String!
    excerpt: String!
    status: CollectionStatus!
    intro: Markdown
    imageUrl: Url
    publishedAt: DateString
    authors: [CollectionAuthor]
    stories: [CollectionStory]
}

enum CollectionStatus {
    draft
    published
    archived
}

type CollectionAuthor {
    id: ID!
    name: String!
    slug: String
    bio: String
    imageUrl: Url
}

type CollectionStory {
    id: ID!
    url: Url!
    title: String!
    excerpt: String!
    imageUrl: Url
    authors: [CollectionStoryAuthor]
    publisher: String
    sortOrder: Int
}

type CollectionStoryAuthor {
    name: String!
}


